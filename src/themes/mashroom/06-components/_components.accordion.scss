@use '../02-tools/tools.trippy-effects' as trippy;
@use '../02-tools/tools.psychedelic-gradients' as gradients;
@use '../01-settings/settings.colors' as colors;
@use '../01-settings/settings.config' as config;

.c-accordion {
  $root: &;
  // Apply psychedelic border with glow effect
  @include trippy.trippy-glow(colors.$primary-6, 10px);

  // Add color shift for extra psychedelic effect
  @include trippy.color-shift();

  &__header {
    @include gradients.mushroom-cap-gradient();

    // Add pulse effect to header
    @include trippy.psychedelic-pulse(colors.$primary-4);

    // Add a subtle pattern
    background-image:
      radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.1) 1px, transparent 1px),
      radial-gradient(circle at 90% 80%, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
    background-size: 30px 30px;

    &:hover {
      @include gradients.psychedelic-linear-gradient(colors.$primary-6, colors.$blue-6);
      transform: scale(1.01);
    }
  }

  &__body {
    @include gradients.mushroom-stem-gradient();
    border-top: 1px solid colors.$primary-3;

    // Add a subtle sparkle effect
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background:
        radial-gradient(1px 1px at 20px 30px, var(--atomix-body-color), rgba(255, 255, 255, 0)),
        radial-gradient(1px 1px at 40px 70px, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0));
      background-repeat: repeat;
      background-size: 50px 50px;
      animation: sparkle 3s linear infinite;
      opacity: 0.3;
      pointer-events: none;
    }

    @keyframes sparkle {
      from {
        background-position: 0 0;
      }
      to {
        background-position: 50px 50px;
      }
    }
  }
}
