/*!
 * Shaj Theme Variables
 * Defines the structure and default values for theme properties
 */

@use 'sass:map';
@use 'sass:meta';
@use '../01-settings/settings.config' as config;

// Theme variable prefix
$shaj-prefix: 'shaj' !default;

// Default theme structure template
$shaj-theme-template: (
  // Color palette with full scale (50-900)
  primary: (
      50: #f0f9ff,
      100: #e0f2fe,
      200: #bae6fd,
      300: #7dd3fc,
      400: #38bdf8,
      500: #0ea5e9,
      600: #0284c7,
      700: #0369a1,
      800: #075985,
      900: #0c4a6e,
    ),

  secondary: (
    50: #f8fafc,
    100: #f1f5f9,
    200: #e2e8f0,
    300: #cbd5e1,
    400: #94a3b8,
    500: #64748b,
    600: #475569,
    700: #334155,
    800: #1e293b,
    900: #0f172a,
  ),

  // Neutral/Gray scale
  neutral: (
      50: #fafafa,
      100: #f4f4f5,
      200: #e4e4e7,
      300: #d4d4d8,
      400: #a1a1aa,
      500: #71717a,
      600: #52525b,
      700: #3f3f46,
      800: #27272a,
      900: #18181b,
    ),

  // Semantic colors
  success: #10b981,
  warning: #f59e0b,
  error: #ef4444,
  info: #3b82f6,

  // Surface colors
  background: #ffffff,
  surface: #ffffff,
  surface-variant: #f8fafc,

  // Typography
  typography: (
      font-family: (
        'Inter',
        'system-ui',
        '-apple-system',
        'BlinkMacSystemFont',
        'Segoe UI',
        'Roboto',
        'Helvetica Neue',
        'Arial',
        'sans-serif',
      ),
      font-weights: (
        light: 300,
        normal: 400,
        medium: 500,
        semibold: 600,
        bold: 700,
        extrabold: 800,
        black: 900,
      ),
      font-sizes: (
        xs: 0.75rem,
        // 12px
        sm: 0.875rem,
        // 14px
        base: 1rem,
        // 16px
        lg: 1.125rem,
        // 18px
        xl: 1.25rem,
        // 20px
        2xl: 1.5rem,
        // 24px
        3xl: 1.875rem,
        // 30px
        4xl: 2.25rem,
        // 36px
        5xl: 3rem,
        // 48px
        6xl: 3.75rem,
        // 60px
      ),
      line-heights: (
        tight: 1.25,
        normal: 1.5,
        relaxed: 1.75,
      ),
      letter-spacing: (
        tight: -0.025em,
        normal: 0,
        wide: 0.025em,
      ),
    ),

  // Spacing scale
  spacing: (
      0: 0,
      1: 0.25rem,
      // 4px
      2: 0.5rem,
      // 8px
      3: 0.75rem,
      // 12px
      4: 1rem,
      // 16px
      5: 1.25rem,
      // 20px
      6: 1.5rem,
      // 24px
      7: 1.75rem,
      // 28px
      8: 2rem,
      // 32px
      9: 2.25rem,
      // 36px
      10: 2.5rem,
      // 40px
      11: 2.75rem,
      // 44px
      12: 3rem,
      // 48px
      14: 3.5rem,
      // 56px
      16: 4rem,
      // 64px
      20: 5rem,
      // 80px
      24: 6rem,
      // 96px
      28: 7rem,
      // 112px
      32: 8rem,
      // 128px
      36: 9rem,
      // 144px
      40: 10rem,
      // 160px
      44: 11rem,
      // 176px
      48: 12rem,
      // 192px
      52: 13rem,
      // 208px
      56: 14rem,
      // 224px
      60: 15rem,
      // 240px
      64: 16rem,
      // 256px
      72: 18rem,
      // 288px
      80: 20rem,
      // 320px
      96: 24rem,
      // 384px
    ),

  // Border radius
  border-radius: (
      none: 0,
      sm: 0.125rem,
      // 2px
      base: 0.25rem,
      // 4px
      md: 0.375rem,
      // 6px
      lg: 0.5rem,
      // 8px
      xl: 0.75rem,
      // 12px
      2xl: 1rem,
      // 16px
      3xl: 1.5rem,
      // 24px
      full: 9999px,
    ),

  // Box shadows
  shadows: (
      none: 'none',
      sm: '0 1px 2px 0 rgba(0, 0, 0, 0.05)',
      base: '0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)',
      md: '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',
      lg: '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',
      xl: '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',
      2xl: '0 25px 50px -12px rgba(0, 0, 0, 0.25)',
      inner: 'inset 0 2px 4px 0 rgba(0, 0, 0, 0.06)',
    ),

  // Animation & transitions
  animation: (
      duration: (
        fast: 150ms,
        base: 250ms,
        slow: 350ms,
      ),
      timing: (
        linear: linear,
        ease: ease,
        ease-in: ease-in,
        ease-out: ease-out,
        ease-in-out: ease-in-out,
        bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55),
      ),
    ),

  // Component-specific configurations
  components: (
      button: (
        padding-x: 1rem,
        padding-y: 0.5rem,
        border-radius: 0.375rem,
        font-weight: 500,
        font-size: 0.875rem,
        line-height: 1.25,
        border-width: 1px,
        transition: 'all 150ms ease-in-out',
      ),

      card: (
        padding: 1.5rem,
        border-radius: 0.5rem,
        border-width: 1px,
        box-shadow: '0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)',
      ),

      input: (
        padding-x: 0.75rem,
        padding-y: 0.5rem,
        border-radius: 0.375rem,
        border-width: 1px,
        font-size: 0.875rem,
        line-height: 1.25,
      ),

      modal: (
        border-radius: 0.75rem,
        box-shadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',
        backdrop-blur: 8px,
      ),

      dropdown: (
        border-radius: 0.5rem,
        border-width: 1px,
        box-shadow: '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',
        padding: 0.5rem,
      ),

      tooltip: (
        border-radius: 0.375rem,
        padding-x: 0.75rem,
        padding-y: 0.5rem,
        font-size: 0.875rem,
        max-width: 200px,
      ),
    ),

  // Breakpoints (inherit from Atomix)
  breakpoints: (
      xs: 0,
      sm: 576px,
      md: 768px,
      lg: 992px,
      xl: 1200px,
      xxl: 1400px,
    ),

  // Z-index layers
  z-index: (
      dropdown: 1000,
      sticky: 1020,
      fixed: 1030,
      modal: 1040,
      popover: 1050,
      tooltip: 1060,
      toast: 1070,
    )
) !default;

// Theme metadata structure
$shaj-theme-meta-template: (
  name: 'Default Theme',
  description: 'A clean, modern theme for professional applications',
  version: '1.0.0',
  author: 'Atomix Team',
  category: 'professional',
  tags: (
    'modern',
    'clean',
    'professional',
  ),
  accessibility: (
    wcag-level: 'AA',
    contrast-ratio: 4.5,
    supports-high-contrast: true,
    supports-reduced-motion: true,
  ),
  preview: (
    primary-color: '#0ea5e9',
    background-color: '#ffffff',
    text-color: '#1f2937',
    screenshot: null,
  ),
) !default;

// Helper function to validate theme structure
@function validate-theme($theme) {
  $required-keys: ('primary', 'secondary', 'neutral', 'success', 'warning', 'error', 'info');

  @each $key in $required-keys {
    @if not map-has-key($theme, $key) {
      @error "Theme is missing required key: #{$key}";
    }
  }

  @return true;
}

// Helper function to merge theme with template
@function merge-theme($theme, $template: $shaj-theme-template) {
  @return map.deep-merge($template, $theme);
}

// Helper function to get theme value
@function get-theme-value($theme, $keys...) {
  $value: $theme;

  @each $key in $keys {
    @if map-has-key($value, $key) {
      $value: map-get($value, $key);
    } @else {
      @return null;
    }
  }

  @return $value;
}

// Helper function to generate CSS custom property name
@function css-var-name($keys...) {
  $name: '--#{$shaj-prefix}';

  @each $key in $keys {
    $name: $name + '-' + $key;
  }

  @return $name;
}
